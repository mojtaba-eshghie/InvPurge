Invariants:

25+ assert(n >= 0);
27+ require(base != 0);
31+ require(n % 2 == 0 || n % 2 == 1);
33+ assert(xxRound >= xx);
37+ assert(z == 0 || div(zx, x) == z);
39+ assert(zxRound >= zx);