The invariant at line 19+ should be:

19+ assert(s.reentrantStatus != _ENTERED);